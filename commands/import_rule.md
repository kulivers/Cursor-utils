# Import Cursor Rules

Автоматически анализирует проект, находит подходящие правила из `C:\dev\cursor\Rules`, ищет правила в интернете, сохраняет найденные в `C:\dev\cursor\uploaded rules`, копирует все команды из `C:\dev\cursor\commands` и импортирует правила в `.cursor/rules/`.

## Цель

Найти и импортировать релевантные Cursor правила на основе анализа текущего проекта (package.json, requirements.txt, файлы проекта) БЕЗ использования Python скриптов. Искать правила в папке `C:\dev\cursor\Rules`, искать дополнительные правила в интернете и сохранять их в `C:\dev\cursor\uploaded rules`, а также копировать все команды из `C:\dev\cursor\commands`.

## Инструкции для AI

Ты должен выполнить следующие шаги самостоятельно:

### Шаг 1: Анализ проекта

1. **Проверь package.json (если есть):**
   - Прочитай файл `package.json`
   - Извлеки зависимости из `dependencies` и `devDependencies`
   - Определи используемые библиотеки и фреймворки (например: react, next, vue, typescript, jest, etc.)

2. **Проверь requirements.txt (если есть):**
   - Прочитай файл `requirements.txt`
   - Извлеки названия Python библиотек (например: django, flask, fastapi, pytest, pandas, etc.)

3. **Проанализируй структуру файлов:**
   - Определи расширения файлов в проекте (`.js`, `.jsx`, `.ts`, `.tsx`, `.py`, `.vue`, etc.)
   - Проверь наличие специфичных файлов (например: `next.config.js`, `manage.py`, `app.py`, etc.)

### Шаг 2: Поиск подходящих правил в локальной папке

1. **Найди директорию с правилами:**
   - Путь: `C:\dev\cursor\Rules`
   - Если директория не найдена, сообщи пользователю

2. **Просмотри доступные правила:**
   - Получи список всех `.mdc` файлов в директории `C:\dev\cursor\Rules`
   - Для каждого правила прочитай метаданные (первые строки с `---`):
     - `description` - описание правила
     - `globs` - паттерны файлов, к которым применяется правило

3. **Найди подходящие правила:**
   - Сопоставь обнаруженные библиотеки с названиями правил
   - Проверь описания правил на упоминание обнаруженных библиотек
   - Проверь glob паттерны правил на соответствие расширениям файлов проекта
   - Выбери топ-10 наиболее релевантных правил

### Шаг 2.1: Поиск правил в интернете

1. **Используй веб-поиск для поиска дополнительных правил:**
   - Ищи правила Cursor для обнаруженных библиотек и фреймворков
   - Ищи в репозиториях GitHub, документации и других источниках
   - Используй поисковые запросы типа: "cursor rules [название библиотеки]", "cursor.mdc [название библиотеки]"

2. **Сохрани найденные правила:**
   - Создай директорию `C:\dev\cursor\uploaded rules` (если не существует)
   - Для каждого найденного правила в интернете:
     - Проверь, не существует ли уже такое правило в `C:\dev\cursor\uploaded rules`
     - Если не существует, сохрани найденное правило в `C:\dev\cursor\uploaded rules`
     - Используй понятное имя файла на основе названия библиотеки/фреймворка

3. **Проанализируй найденные правила:**
   - Прочитай метаданные найденных правил
   - Определи их релевантность для текущего проекта
   - Добавь подходящие правила к списку для импорта

### Шаг 3: Копирование команд

1. **Скопируй все команды из `C:\dev\cursor\commands`:**
   - Получи список всех `.md` файлов в директории `C:\dev\cursor\commands`
   - Скопируй все файлы команд в целевую директорию (если требуется)
   - Сохрани информацию о скопированных командах для отчета

### Шаг 4: Импорт правил

1. **Создай директорию `.cursor/rules/`** (если не существует)

2. **Для каждого найденного правила из `C:\dev\cursor\Rules`:**
   - Проверь, не существует ли уже такое правило в `.cursor/rules/`
   - Если не существует, скопируй файл из `C:\dev\cursor\Rules` в `.cursor/rules/`
   - Если существует, пропусти его

3. **Для каждого найденного правила из `C:\dev\cursor\uploaded rules`:**
   - Проверь, не существует ли уже такое правило в `.cursor/rules/`
   - Если не существует, скопируй файл из `C:\dev\cursor\uploaded rules` в `.cursor/rules/`
   - Если существует, пропусти его

4. **Покажи результаты:**
   - Выведи список обнаруженных библиотек
   - Покажи список найденных правил с их описаниями (из обеих папок)
   - Сообщи о количестве импортированных правил
   - Сообщи о количестве скопированных команд

## Примеры сопоставления

### React проект:
- Обнаруживает: `react`, `typescript` в package.json
- Находит правила: `react.mdc`, `typescript.mdc`, `jest.mdc` (если jest используется)

### Python проект:
- Обнаруживает: `django` или `fastapi` в requirements.txt
- Находит правила: `python.mdc`, `django.mdc` или `fastapi.mdc`, `pytest.mdc`

### Next.js проект:
- Обнаруживает: `next`, `react` в package.json
- Находит правила: `next-js.mdc`, `react.mdc`, `typescript.mdc`

## Формат MDC файла

MDC файлы имеют следующий формат в начале:

```
---
description: Описание правила
globs: *.js,*.jsx,*.ts,*.tsx
---
```

Используй эти метаданные для определения релевантности правил.

## Важные замечания

- Ищи правила ТОЛЬКО в папке `C:\dev\cursor\Rules`, не в других папках
- Не перезаписывай существующие правила в `.cursor/rules/`
- Выбирай правила на основе релевантности (название библиотеки, описание, glob паттерны)
- Максимум 10 правил для импорта из локальной папки (чтобы не перегрузить контекст)
- Если правило уже существует, пропускай его
- При поиске правил в интернете сохраняй их в `C:\dev\cursor\uploaded rules`
- Копируй ВСЕ команды из `C:\dev\cursor\commands`

## Ожидаемый результат

- Список обнаруженных библиотек в проекте
- Топ-10 наиболее релевантных правил с их описаниями и паттернами (из `C:\dev\cursor\Rules`)
- Найденные правила в интернете, сохраненные в `C:\dev\cursor\uploaded rules`
- Импортированные правила в `.cursor/rules/` (из обеих папок: `C:\dev\cursor\Rules` и `C:\dev\cursor\uploaded rules`)
- Скопированные команды из `C:\dev\cursor\commands`
- Сообщение об успешном импорте с количеством правил и команд
